<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper 
    PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" 
    "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="rankRewardScore">

	<parameterMap id="rankRewardScore" type="com.sw.plugins.incentivefee.incentive.entity.RankRewardScore" />

	<resultMap id="rebateParameterResult" type="com.sw.plugins.incentivefee.incentive.entity.RankRewardScore">
		<result property="id" column="ID" />
		<result property="rankTag" column="RankTag" />
		<result property="rankName" column="RankName" />
		<result property="rewardScore" column="RewardScore" />
		<result property="type" column="Type" />
		<result property="stageTime" column="StageTime" />
	</resultMap>
	
	<select id="select" parameterMap="rankRewardScore" resultMap="rebateParameterResult">
		select * from TC_RankRewardScore where Type = ${type} and StageTime = #{stageTime} order by RewardScore desc
	</select>
	
	<delete id="delete" parameterMap="rankRewardScore">
		delete from TC_RankRewardScore where ID = ${id}
	</delete>

	<delete id="deleteAll" parameterMap="rankRewardScore">
		delete from TC_RankRewardScore where Type = ${type}
	</delete>
		
	<insert id="insert" parameterMap="rankRewardScore">
		insert into TC_RankRewardScore
		 	<trim prefix="(" prefixOverrides="," suffix=")">
		 		<if test="stageTime!=null and stageTime!=''">, StageTime</if>
		 		<if test="rankTag!=null and rankTag!=''">, RankTag</if>
		 		<if test="type!=null and type!=''">, Type</if>
		 		<if test="rankName!=null and rankName!=''">, RankName</if>
		 		<if test="rewardScore!=null and rewardScore!=''">, RewardScore</if>
		 	</trim>
		 	values 
		 	<trim prefix="(" prefixOverrides="," suffix=")">
		 		<if test="stageTime!=null and stageTime!=''">,#{stageTime}</if>
		 		<if test="rankTag!=null and rankTag!=''">,#{rankTag}</if>
		 		<if test="type!=null and type!=''">,${type}</if>
		 		<if test="rankName!=null and rankName!=''">,#{rankName}</if>
		 		<if test="rewardScore!=null and rewardScore!=''">,${rewardScore}</if>
		 	</trim>
	</insert>
	
	<update id="update" parameterMap="rankRewardScore">
		update TC_RankRewardScore 
		<set> 
			<trim prefixOverrides="," >
				<if test="rankTag!=null and rankTag!=''">, RankTag = #{rankTag}</if>
		 		<if test="rankName!=null and rankName!=''">, RankName = #{rankName}</if>
		 		<if test="rewardScore!=null and rewardScore!=''">, RewardScore = ${rewardScore}</if>
			</trim>
		</set>
			where ID = ${id} 
	</update>
	
</mapper>
